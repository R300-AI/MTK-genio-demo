[2025-08-21 20:48:15,126] INFO - 🏭 ============================================================
[2025-08-21 20:48:15,126] INFO - 🏭 Producer初始化開始
[2025-08-21 20:48:15,126] INFO - 🏭 ============================================================
[2025-08-21 20:48:15,126] INFO - 📋 步驟 1/2: 🚀 初始化Capture物件...
[2025-08-21 20:48:15,126] INFO - 🔍 [VIDEO] 目標文件: ./data/video.mp4
[2025-08-21 20:48:15,126] INFO - 🔍 [VIDEO] 正在建立VideoCapture連接...
[2025-08-21 20:48:15,142] INFO - 🔧 [VIDEO] 應用Video模式優化設置...
[2025-08-21 20:48:15,142] INFO - 🔧 [VIDEO] 緩衝區大小設為: 1
[2025-08-21 20:48:15,142] INFO - 📋 步驟 2/2: ⚙️ 配置管理 - 設置系統串流參數...
[2025-08-21 20:48:15,142] INFO - 📊 [VIDEO]  - FPS: 29.97002997002997
[2025-08-21 20:48:15,142] INFO - 📊 [VIDEO]  - 解析度: 1920x1080
[2025-08-21 20:48:15,142] INFO - 📊 [VIDEO]  - 總幀數: 109
[2025-08-21 20:48:15,142] INFO - 🎯 [VIDEO] 模式設定: 完整性優先
[2025-08-21 20:48:15,142] INFO - ⏱️ [VIDEO] 影片時長: 3.64 秒
[2025-08-21 20:48:15,142] INFO - ⏱️ [VIDEO] 每幀間隔: 0.0334 秒
[2025-08-21 20:48:15,142] INFO - 📈 [VIDEO] 進度追蹤: 啟用 (每100幀報告一次)
[2025-08-21 20:48:15,142] INFO - ✅ Producer初始化完成!
[2025-08-21 20:48:15,142] INFO - 🏭 ============================================================
[2025-08-21 20:48:15,142] INFO - 🏭 WorkerPool初始化開始
[2025-08-21 20:48:15,142] INFO - 🏭 ============================================================
[2025-08-21 20:48:15,142] INFO - 📋 步驟 1/3: 🚀 配置驗證與基礎架構...
[2025-08-21 20:48:15,142] INFO - 🔍 [VIDEO] 工作者數量: 2
[2025-08-21 20:48:15,142] INFO - 🔍 [VIDEO] 緩衝區大小: 20
[2025-08-21 20:48:15,142] INFO - 📊 [VIDEO]   - 硬體性能等級: EXTREME (CPU核心: 24, 記憶體: 23.6GB, 總分: 59.80)
[2025-08-21 20:48:15,142] INFO - 📋 步驟 2/3: 🔧 配置Queue和內部結構...
[2025-08-21 20:48:15,142] INFO - 🔧 [VIDEO] 任務佇列: 最大容量 20
[2025-08-21 20:48:15,142] INFO - 📋 步驟 3/3: ⚙️ 創建Processor池並載入YOLO模型...
[2025-08-21 20:48:15,142] INFO - 🔍 [VIDEO] 準備創建並初始化 2 個Processor...
[2025-08-21 20:48:15,142] INFO - 🔍 [VIDEO] 正在初始化 Processor #1/2...
[2025-08-21 20:48:17,584] INFO - 🔍 [VIDEO] 正在初始化 Processor #2/2...
[2025-08-21 20:48:17,607] INFO - 📈 [VIDEO] 所有Processor已就緒，模型載入完成!
[2025-08-21 20:48:17,607] INFO - ⏱️ [VIDEO] 模型載入總時間: 2.465s
[2025-08-21 20:48:17,607] INFO - ✅ WorkerPool初始化完成!
[2025-08-21 20:48:17,607] INFO - 🖥️ ============================================================
[2025-08-21 20:48:17,607] INFO - 🖥️ Consumer初始化開始
[2025-08-21 20:48:17,607] INFO - 🖥️ ============================================================
[2025-08-21 20:48:17,607] INFO - 📋 步驟 1/2: 🚀 顯示緩衝區配置...
[2025-08-21 20:48:17,607] INFO - 🔍 [VIDEO] 視窗名稱: Hetegeneous Integrated Chip Inference Demo
[2025-08-21 20:48:17,607] INFO - 🔍 [VIDEO] 顯示緩衝區大小: 1
[2025-08-21 20:48:17,607] INFO - 🔍 [VIDEO] 目標FPS: 30
[2025-08-21 20:48:17,607] INFO - 📋 步驟 2/2: ⚙️ 顯示執行緒與統計初始化...
[2025-08-21 20:48:17,607] INFO - 📊 [VIDEO] 顯示尺寸: (720, 480)
[2025-08-21 20:48:17,607] INFO - 📊 [VIDEO] FPS統計間隔: 30 幀
[2025-08-21 20:48:17,607] INFO - ✅ Consumer初始化完成!
[2025-08-21 20:48:17,607] INFO - 🖥️ ============================================================
[2025-08-21 20:48:17,607] INFO - 🏭 ===== PIPELINE 工廠函數 =====
[2025-08-21 20:48:17,607] INFO - 📝 檢測到Producer模式: video
[2025-08-21 20:48:17,607] INFO - 🎬 創建VideoPipeline - 完整性優先策略
[2025-08-21 20:48:17,607] INFO - 📋 Video模式特性: 確保無丟幀、硬體適應性、等待完整處理
[2025-08-21 20:48:17,607] INFO - 🚀 ===== PIPELINE 初始化開始 =====
[2025-08-21 20:48:17,607] INFO - 📝 Producer類型: VideoProducer
[2025-08-21 20:48:17,607] INFO - 📝 WorkerPool類型: WorkerPool
[2025-08-21 20:48:17,607] INFO - 📝 Consumer類型: Consumer
[2025-08-21 20:48:17,607] INFO - 🔧 初始化硬體檢測器...
[2025-08-21 20:48:17,840] INFO - 硬體性能等級檢測完成: EXTREME (CPU核心: 24, 記憶體: 23.6GB, 總分: 86.94)
[2025-08-21 20:48:17,840] INFO - 📊 硬體性能等級: EXTREME
[2025-08-21 20:48:17,840] INFO - 📊 適應性參數: {'queue_high_watermark': 80, 'queue_low_watermark': 60, 'batch_timeout': 0.001, 'max_queue_size': 100, 'fps_check_interval': 50, 'worker_check_interval': 0.005}
[2025-08-21 20:48:17,840] INFO - 📈 初始化Timeline調試工具...
[2025-08-21 20:48:17,840] INFO - 🔧 配置Queue - 最大大小: 100
[2025-08-21 20:48:17,840] INFO - ✅ Input/Output Queue 創建完成
[2025-08-21 20:48:17,840] INFO - ⏱️ 性能監控間隔設定: 50秒
[2025-08-21 20:48:17,840] INFO - 📸 Producer狀態追蹤器初始化完成
[2025-08-21 20:48:17,840] INFO - 📊 性能歷史數據緩存: 最大100筆記錄
[2025-08-21 20:48:17,840] INFO - 🛡️ 系統信號處理器註冊完成
[2025-08-21 20:48:17,840] INFO - ⚙️ 執行模式特定初始化...
[2025-08-21 20:48:17,840] INFO - 📹 ===== VIDEO模式 特定初始化 =====
[2025-08-21 20:48:17,840] INFO - 🔧 Video模式參數配置:
[2025-08-21 20:48:17,840] INFO -   └─ Queue預載: 啟用
[2025-08-21 20:48:17,840] INFO -   └─ 最小Queue深度: 10
[2025-08-21 20:48:17,840] INFO -   └─ 預載批次大小: 5
[2025-08-21 20:48:17,840] INFO -   └─ 預載檢查間隔: 0.1秒
[2025-08-21 20:48:17,840] INFO - ✅ Video模式初始化完成 - 確保無丟幀處理
[2025-08-21 20:48:17,840] INFO - 🎉 ===== VideoPipeline 初始化完成 =====
[2025-08-21 20:48:17,840] INFO - 📋 硬體等級: EXTREME | 隊列大小: 100 | FPS檢查間隔: 50
[2025-08-21 20:48:17,840] INFO - ✅ Pipeline創建完成: VideoPipeline
[2025-08-21 20:48:17,840] INFO - 🚀 ===== PIPELINE 執行開始 =====
[2025-08-21 20:48:17,840] INFO - 🎯 Pipeline類型: VideoPipeline
[2025-08-21 20:48:17,840] INFO - 📝 執行模式: Video完整性優先
[2025-08-21 20:48:17,840] INFO - 📈 啟動Timeline監控線程...
[2025-08-21 20:48:17,840] INFO - ⚙️ 啟動WorkerPool...
[2025-08-21 20:48:17,840] INFO - 🚀 WorkerPool啟動線程池...
[2025-08-21 20:48:17,840] INFO - 🔧 [VIDEO] 任務回調: 已設置
[2025-08-21 20:48:17,840] INFO - ✅ [VIDEO] 線程池啟動完成，開始接受任務!
[2025-08-21 20:48:17,840] INFO - 📊 [VIDEO] 執行器狀態: 運行中 (2個Processor就緒)
[2025-08-21 20:48:17,840] INFO - 🖥️ 啟動Consumer顯示...
[2025-08-21 20:48:17,840] INFO - 🧵 創建執行緒...
[2025-08-21 20:48:17,840] INFO - ✅ Producer/Worker/Consumer 執行緒創建完成
[2025-08-21 20:48:17,840] INFO - 🎬 啟動所有執行緒...
[2025-08-21 20:48:17,840] INFO - ⚙️ ===== VIDEO WORKER 啟動 =====
[2025-08-21 20:48:17,840] INFO - 📝 Video Worker策略: 硬體適應性處理，確保完整性
[2025-08-21 20:48:17,840] INFO - 📸 ===== VIDEO PRODUCER 啟動 =====
[2025-08-21 20:48:17,840] INFO - 🖥️ ===== VIDEO CONSUMER 啟動 =====
[2025-08-21 20:48:17,840] INFO - 📝 Video Producer策略: 確保無丟幀，完整性優先
[2025-08-21 20:48:17,840] INFO - 🎯 所有執行緒已啟動，進入主執行循環
[2025-08-21 20:48:17,840] INFO - 📝 Video Consumer策略: 完整顯示，不丟幀
[2025-08-21 20:48:17,840] INFO - ⏱️ 批次超時設定: 0.001秒
[2025-08-21 20:48:17,840] INFO - ⏳ 等待Producer執行緒完成...
[2025-08-21 20:48:17,840] INFO - 📦 Frame緩衝器大小: 10
[2025-08-21 20:48:17,840] INFO - 📈 Timeline狀態更新: Producer已啟動
[2025-08-21 20:48:17,840] INFO - 🎬 開始讀取幀數據...
[2025-08-21 20:48:17,975] INFO - ⚙️ Video Worker狀態: 已處理 50 幀，Input Queue: 0
[2025-08-21 20:48:18,101] INFO - 📈 [VIDEO] 處理進度: 91.7% (100/109)
[2025-08-21 20:48:18,101] INFO - 📊 Video Producer狀態: 已處理 100 幀，緩衝器: 5
[2025-08-21 20:48:18,101] INFO - ⚙️ Video Worker狀態: 已處理 100 幀，Input Queue: 0
[2025-08-21 20:48:18,121] INFO - 🏁 [VIDEO] 播放完成，處理109幀
[2025-08-21 20:48:18,121] INFO - 🏁 [VIDEO] 完成，總幀數: 109
[2025-08-21 20:48:18,140] INFO - 📦 處理剩餘 4 幀
[2025-08-21 20:48:18,140] INFO - ✅ VIDEO PRODUCER 完成: 總共處理 109 幀
[2025-08-21 20:48:18,140] INFO - 🎯 Video模式確保所有幀都已加入處理隊列
[2025-08-21 20:48:18,140] INFO - ✅ Producer執行緒已完成
[2025-08-21 20:48:18,140] INFO - 🏁 執行VideoPipeline完成處理...
[2025-08-21 20:48:18,140] INFO - 🏁 ===== VIDEO模式 完成處理 =====
[2025-08-21 20:48:18,140] INFO - ✅ Producer已完成且Output Queue為空，Consumer準備結束
[2025-08-21 20:48:18,140] INFO - ⏳ Video模式策略: 等待所有幀處理完成，確保完整性
[2025-08-21 20:48:18,140] INFO - ✅ VIDEO CONSUMER 完成: 總共消費 0 個結果
[2025-08-21 20:48:18,140] INFO - 🛑 停止WorkerPool...
[2025-08-21 20:48:18,140] INFO - 🧹 WorkerPool關閉完成: 總任務109, 完成109, 丟棄0
[2025-08-21 20:48:18,140] INFO - 📤 發送Consumer終止信號...
[2025-08-21 20:48:18,140] INFO - ✅ Video模式完成處理結束 - 所有幀已處理完成
[2025-08-21 20:48:18,140] INFO - ⏳ 等待Consumer執行緒完成...
[2025-08-21 20:48:18,140] INFO - ✅ Consumer執行緒已完成
[2025-08-21 20:48:18,140] INFO - 🛑 停止Consumer顯示...
[2025-08-21 20:48:18,164] INFO - 📊 ===== 最終性能摘要 =====
[2025-08-21 20:48:18,164] INFO - 📈 Timeline摘要: 無足夠的時間軸數據
[2025-08-21 20:48:18,164] INFO - 🧹 執行清理程序...
[2025-08-21 20:48:18,164] INFO - 🧹 WorkerPool關閉完成: 總任務109, 完成109, 丟棄0
[2025-08-21 20:48:18,251] INFO - 🎉 ===== PIPELINE 執行完成 =====
